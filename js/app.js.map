{"version":3,"sources":["app.js","ng-bind-keys.js","ng-enter.js","ng-input-change.js","ng-scroll-on.js","youtube-player.js","youtube-url-parser.js","thumbnail-url-filter.js","player-overlay.directive.js","player.directive.js","root.directive.js","lastsubreddits-service.js","player-service.js","playlist-service.js","reddit-service.js","settings-service.js","sidebar-service.js","settings-panel.directive.js","sidebar-empty.directive.js","sidebar-foot.directive.js","sidebar-head.directive.js","sidebar-list.directive.js","sidebar.directive.js","video-item.directive.js"],"names":[],"mappings":"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","file":"public/js/app.js","sourcesContent":[";(() => {\n  angular\n    .module('orodarius', [\n      'LocalStorageModule',\n      'ngAnimate'\n    ]);\n\n  angular\n    .module('orodarius')\n    .config(function(localStorageServiceProvider) {\n      localStorageServiceProvider.setPrefix('orodarius');\n    })\n\n  angular\n    .module('orodarius')\n    .run(function($window) {\n      $($window).on('resize', _.throttle(function() {\n        $('#main-video-player')\n          .attr('width', $window.innerWidth)\n          .attr('height', $window.innerHeight);\n      }, 400));\n    });\n})();\n\n",";(function() {\n  'use strict';\n\n  angular.module('orodarius')\n    .directive('ngBindKeys', ['$document', function($document) {\n      return {\n        restrict: 'A',\n        scope: {\n          ngBindKeysOptions: '=ngBindKeys'\n        },\n        link: function(scope, element, attr) {\n          var keyCodes = _(scope.ngBindKeysOptions).map((fn, keyCode) => keyCode).value();\n\n          $document.on('keydown', function(event) {\n            if(event.target.nodeName !== 'INPUT') {\n              var currentKeyCode = event.which || event.keyCode;\n\n              if(scope.ngBindKeysOptions[currentKeyCode]) {\n                event.preventDefault();\n                scope.ngBindKeysOptions[currentKeyCode].call({}, event);\n              }\n            }\n          });\n        }\n      };\n    }]);\n\n})();\n",";(() => {\n  angular.module('orodarius')\n    .directive('ngEnter', () => {\n      return {\n        restrict: 'A',\n        replace: false,\n        scope: {\n          ngEnter: '&',\n          ngEnterOptions: '='\n        },\n        link: (scope, element, attr) => {\n          element.on('keypress', event => {\n            if(event.which === 13 || event.keyCode === 13) {\n              scope.ngEnter.call();\n\n              if(scope.ngEnterOptions.blurOnEnter) {\n                $(element).blur();\n              }\n\n              scope.$apply();\n            }\n          });\n        }\n      };\n    });\n})();\n\n",";(function() {\n  'use strict';\n\n  angular.module('orodarius')\n    .directive('ngInputChange', function() {\n      return {\n        restrict: 'A',\n        scope: {\n          ngInputChange: '&'\n        },\n        replace: false,\n        link: function(scope, element, attrs) {\n          $(element).on('change input', function() {\n            scope.ngInputChange.call(null);\n          });\n\n          scope.$on('$destroy', function() {\n            $(element).off('change input');\n          });\n        }\n      };\n    });\n\n})();\n",";(function() {\n  'use strict';\n\n  angular.module('orodarius')\n    .directive('ngScrollOn', ['$timeout', function($timeout) {\n      return {\n        restrict: 'A',\n        scope: {\n          ngScrollOn: '='\n        },\n        link: function(scope, element, attr) {\n          // TODO: ngScrollOn should contain currentVideoItem\n          // not good, this directive should not care about what it gets,\n          // just catch change\n\n          scope.$watch('ngScrollOn', function(newVal, oldVal) {\n            $timeout(function() {\n              var $currentItem = $(element).find('.current').parent().prev().prev();\n\n              if($currentItem.length) {\n                // scrollIntoView is native, believe it or not\n                // https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView\n                $currentItem[0].scrollIntoView({\n                  block: 'start',\n                  behavior: 'smooth'\n                });\n              }\n            });\n          });\n        }\n      };\n    }]);\n})();\n",";(function() {\n  'use strict';\n\n  angular.module('orodarius')\n    .directive('youtubePlayer', ['$window', 'PlayerService', function($window, PlayerService) {\n      return {\n        restrict: 'A',\n        replace: false,\n        link: function(scope, element, attrs) {\n          // scope.isDisabled comes from karma tests.\n          // TODO: nothing like that should be done, figure out how to\n          // prevent script src loading during karma tests\n          if(!scope.isDisabled) {\n            var tag = $('<script>').attr({\n              src: 'https://www.youtube.com/iframe_api',\n              async: true\n            });\n\n            // this is suggested here:\n            // https://developers.google.com/youtube/iframe_api_reference#Getting_Started\n            // not sure if it really needs to be first\n            $('script').eq(0).before(tag);\n          }\n\n          $window.onYouTubeIframeAPIReady = function() {\n            PlayerService.createNewPlayer(attrs.youtubePlayer || 'main-video-player');\n          };\n        }\n      };\n    }]);\n})();\n\n",";(() => {\n  'use strict';\n\n  angular.module('orodarius').factory('youtubeUrlParser', function() {\n    // inspiration or, basically, stealing from:\n    // https://github.com/honestbleeps/Reddit-Enhancement-Suite/blob/ebf015e5b78780f7c86e0c9ae5fde45af2c68fff/lib/modules/hosts/youtube.js#L11\n\n    var hashRe = /^(?:https?:)?(?:\\/\\/)?(?:www\\.|m\\.)?youtube\\.com\\/watch\\?.*v=([\\w\\-]+)/i,\n        altHashRe = /^https?:\\/\\/(?:www\\.)?youtu\\.be\\/([\\w\\-]+)/i;\n\n    function getVideoInfoFromUrl(url) {\n      var groups = hashRe.exec(url);\n\n      if(!groups) {\n        groups = altHashRe.exec(url);\n      }\n\n      if(groups) {\n        // Check url for timecode e.g t=1h23m15s\n        var timecodeRe = /t=(.*?)&|t=(.*?)$/i,\n            starttime = 0,\n            timecodeResult = timecodeRe.exec(url);\n\n        if(timecodeResult !== null) {\n          var time_blocks = {'h':3600, 'm':60, 's':1},\n              timeRE = /[0-9]+[h|m|s]/ig;\n\n          // Get each segment e.g. 8m and calculate its value in seconds\n          var timeMatch = timecodeResult[0].match(timeRE);\n\n          if(timeMatch) {\n            timeMatch.forEach(function(ts){\n              var unit = time_blocks[ts.charAt(ts.length-1)],\n                  amount = parseInt(ts.slice(0, - 1), 10);\n\n              // Add each unit to starttime\n              starttime += unit * amount;\n            });\n          } else {\n            // support direct timestamp e.g. t=200\n            starttime = parseInt(timecodeResult[0].replace('t=',''), 10);\n            if (isNaN(starttime)) {\n              starttime = 0;\n            }\n          }\n        }\n\n        return {\n          id: groups[1],\n          starttime: starttime\n        };\n      } else {\n        return '';\n      }\n    }\n\n    return getVideoInfoFromUrl;\n  });\n})();\n",";(() => {\n  'use strict';\n\n  angular.module('orodarius').filter('thumbnailUrlFilter', function() {\n    return function(thumbnailUrl) {\n      switch(thumbnailUrl) {\n        case 'nsfw':\n          return 'images/nsfw-thumbnail.jpg';\n        case 'default':\n          return 'images/default-thumbnail.png';\n      }\n\n      return thumbnailUrl;\n    };\n  });\n})();\n\n",";(() => {\n  'use strict';\n\n  angular\n    .module('orodarius')\n    .component('playerOverlay', playerOverlayComponent());\n\n  function playerOverlayComponent() {\n    return {\n      bindings: {},\n      templateUrl: 'views/player-overlay.html',\n      controller: ['PlayerService', function(PlayerService) {\n        this.getCurrentVideoItem = () => PlayerService.currentVideoItem;\n      }]\n    };\n  }\n})();\n\n",";(() => {\n  'use strict';\n\n  angular\n    .module('orodarius')\n    .component('player', {\n      bindings: {},\n      templateUrl: 'views/player.html',\n      controller: function() {\n      }\n    });\n})();\n\n",";(() => {\n  'use strict';\n\n  angular\n    .module('orodarius')\n    .component('root', {\n      bindings: {},\n      templateUrl: 'views/root.html',\n      controller: ['$scope', 'PlayerService', 'PlaylistService', 'SidebarService', function($scope, PlayerService, PlaylistService, SidebarService) {\n        this.keyboardEventsOptions = {\n          38() { playPrevious(); }, // up\n          37() { playPrevious(); }, // left\n          39() { playNext(); }, // right\n          40() { playNext(); }, // down\n          32() { PlayerService.playOrPause(); }, // space\n          16: event => { // shift\n            SidebarService.toggle();\n            $scope.$apply();\n          },\n          27: event => { // escape\n            SidebarService.close();\n            $scope.$apply();\n          }\n        };\n\n        function playPrevious() {\n          if(PlaylistService.playlist.length) {\n            PlayerService.playPrevious();\n            $scope.$apply();\n          }\n        }\n\n        function playNext() {\n          if(PlaylistService.playlist.length) {\n            PlayerService.playNext();\n            $scope.$apply();\n          }\n        }\n      }]\n    });\n})();\n\n",";(() => {\n  // TODO: this will eventually be lastQueriesService or something\n  angular.module('orodarius')\n    .service('LastSubredditsService', ['localStorageService', function(localStorageService) {\n      let lastSubredditsStorageName = 'lastSubreddits',\n          lastSubredditsLimit = 10;\n\n      let lastSubreddits = localStorageService.get(lastSubredditsStorageName);\n\n      if(!angular.isArray(lastSubreddits)) {\n        lastSubreddits = [];\n      }\n\n      function addItem(item) {\n        if(isItemDuplicate(item)) { return; }\n\n        lastSubreddits.unshift(item);\n        lastSubreddits = lastSubreddits.slice(0, lastSubredditsLimit);\n\n        updateLocalStorage();\n      }\n\n      function isItemDuplicate(item) {\n        return _.findIndex(lastSubreddits, obj => item.name === obj.name) !== -1;\n      }\n\n      function updateLocalStorage() {\n        localStorageService.set('lastSubreddits', lastSubreddits);\n      }\n\n      function getList() {\n        return lastSubreddits;\n      }\n\n      return {\n        getList,\n        add: addItem\n      };\n    }]);\n})();\n\n",";(function() {\n  'use strict';\n\n  angular.module('orodarius')\n    .service('PlayerService', ['$window', '$timeout', 'PlaylistService', 'SettingsService', function($window, $timeout, PlaylistService, SettingsService) {\n      this.youtubePlayer = null; // youtube iframe api instance\n      this.isPlaying = false;\n      this.currentVideoItem = {};\n\n      this.markCurrentVideoItemWithError = function(errorCode) {\n        var currentItemIndex = _.findIndex(PlaylistService.playlist, item => item.ownId === this.currentVideoItem.ownId);\n\n        PlaylistService.playlist[currentItemIndex].error = {\n          code: errorCode,\n          message: errorMessage(errorCode)\n        };\n      };\n\n      this.createNewPlayer = function(elementId, options) {\n        var defaultPlayerOptions = {\n          width: $window.innerWidth, // TODO: perhaps move to settings value\n          height: $window.innerHeight,\n          videoId: 'DT2oAtQtFrg',\n          playerVars: {\n            autohide: 1,\n            autoplay: 0,\n            controls: 1,\n            disablekb: 1,\n            enablejsapi: 1\n          }\n        };\n\n        angular.extend(defaultPlayerOptions, options);\n\n        // YT should be available since it comes from iframe_api\n        this.youtubePlayer = new YT.Player(elementId || 'main-video-player', defaultPlayerOptions);\n\n        this.youtubePlayer.addEventListener('onReady', onPlayerReady.bind(this));\n        this.youtubePlayer.addEventListener('onError', onPlayerError.bind(this));\n        this.youtubePlayer.addEventListener('onStateChange', this.onPlayerStateChange.bind(this));\n\n        return this.youtubePlayer;\n      };\n\n      this.playVideo = function(item) {\n        if(this.youtubePlayer && this.youtubePlayer.loadVideoById && item) {\n          // TODO: skip misunderstood urls for now\n          if(item.url === false) {\n            this.playNext();\n            return;\n          }\n\n          this.youtubePlayer.loadVideoById({\n            videoId: item.videoId,\n            startSeconds: item.starttime || 0,\n            suggestedQuality: 'default'\n          });\n\n          this.currentVideoItem = item;\n          this.isPlaying = true;\n          SettingsService.set('watchCount', SettingsService.list.watchCount + 1);\n        }\n\n        $timeout(); // TODO :(\n      };\n\n      this.playNext = function() {\n        var nextVideoItemIndex = _.findIndex(PlaylistService.playlist, currentItemMatcher.bind(this)) + 1;\n\n        if(nextVideoItemIndex === PlaylistService.playlist.length) {\n          PlaylistService.expandPlaylist().then(data => {\n            this.playVideo(PlaylistService.playlist[nextVideoItemIndex]);\n          });\n        } else {\n          this.playVideo(PlaylistService.playlist[nextVideoItemIndex]);\n        }\n      };\n\n      this.playPrevious = function() {\n        var previousVideoItemIndex = _.findIndex(PlaylistService.playlist, currentItemMatcher.bind(this)) - 1;\n        this.playVideo(PlaylistService.playlist[previousVideoItemIndex < 0 ? 0 : previousVideoItemIndex], 'previous');\n      };\n\n      this.playOrPause = function() {\n        if(this.isPlaying) {\n          this.youtubePlayer.pauseVideo();\n          this.isPlaying = false;\n        } else {\n          this.youtubePlayer.playVideo();\n          this.isPlaying = true;\n        }\n      };\n\n      this.resetCurrentVideoItem = function() {\n        this.currentVideoItem = undefined;\n      };\n\n      this.onPlayerStateChange = function(event) {\n        // event.data holds event type, one of the following:\n        // -1 (unstarted)\n        // 0 (ended)\n        // 1 (playing)\n        // 2 (paused)\n        // 3 (buffering)\n        // 5 (video cued).\n\n        if(SettingsService.list.isFlashModeEnabled && event.data === 1) {\n          $timeout(() => {\n            this.playNext();\n          }, 5000)\n        }\n        // if event is 0 (ended), play another video.\n        if (event.data === 0) {\n          this.playNext();\n        }\n      }\n\n      function onPlayerReady() {\n        // player.playVideo();\n      }\n\n      function onPlayerError(event) {\n        // https://developers.google.com/youtube/iframe_api_reference#onError\n        if([2, 5, 100, 101, 150].indexOf(event.data) != -1) {\n          this.markCurrentVideoItemWithError(event.data);\n          // TODO: stop trying after n tries\n          this.playNext();\n        }\n      }\n\n      function currentItemMatcher(item) {\n        return item.ownId === this.currentVideoItem.ownId;\n      }\n\n      function errorMessage(code) {\n        switch (code) {\n          case 2:\n            return \"can't parse video ID\";\n          case 5:\n            return \"problem with HTML5 Youtube player\";\n          case 100:\n            return \"video is private or removed\";\n          case 101:\n          case 150:\n            return \"uploader does not allow embedded playback\";\n        }\n      }\n\n    }]);\n})();\n\n",";(function() {\n  'use strict';\n\n  angular.module('orodarius')\n    .service('PlaylistService', ['RedditService', function(RedditService) {\n      let playlistSubscriberFns = [];\n\n      // Public values\n      this.playlist = [];\n      this.isLoading = false;\n\n      // Public methods\n      this.add = add;\n      this.clear = clear;\n      this.fetchSubreddit = fetchSubreddit;\n      this.expandPlaylist = expandPlaylist;\n      this.subscribePlaylist = subscribePlaylist;\n\n      function add(item) {\n        this.playlist.push(item);\n        publishSubscribers();\n        return this.playlist;\n      }\n\n      function fetchSubreddit(subredditName = '') {\n        this.isLoading = true;\n\n        return RedditService\n          .fetch(subredditName)\n          .then(newItems => {\n            if(newItems) {\n              this.playlist = this.playlist.concat(newItems);\n              publishSubscribers();\n              return newItems;\n            }\n          }, angular.noop)\n          .finally(() => this.isLoading = false);\n      }\n\n      function expandPlaylist() {\n        this.isLoading = true;\n\n        return RedditService\n          .getNext()\n          .then(newItems => {\n            if(newItems) {\n              this.playlist = this.playlist.concat(newItems);\n              publishSubscribers();\n            }\n          }, angular.noop)\n          .finally(() => this.isLoading = false);\n      }\n\n      function clear() {\n        this.playlist = [];\n        publishSubscribers();\n      }\n\n      function subscribePlaylist(subscriberFn) {\n        playlistSubscriberFns.push(subscriberFn);\n      }\n\n      function publishSubscribers() {\n        playlistSubscriberFns.map(fn => fn());\n      }\n    }]);\n})();\n\n",";(() => {\n  'use strict';\n\n  angular.module('orodarius').service('RedditService', ['$http', '$q', 'youtubeUrlParser', '$filter', 'LastSubredditsService', '$log', function($http, $q, youtubeUrlParser, $filter, LastSubredditsService, $log) {\n    let NUM_FETCH_RETRIES = 0,\n        NUM_MAX_FETCH_RETRIES = 3, // means there might be at most 4 consecutive GETs until proper data received\n        AFTER_TAG = '',\n        IS_LOADING = false,\n        CURRENT_SUBREDDIT = '';\n\n    this.fetch = fetch;\n    this.items = [];\n    this.getNext = getNext;\n\n    const API_ROOT_URL = 'http://www.reddit.com/r/';\n\n    function fetch(subredditName = '', afterTag = '') {\n      const deferred = $q.defer(),\n            apiUrl = `${API_ROOT_URL}${subredditName}/hot.json?limit=50` + (afterTag ? `&after=${afterTag}` : '');\n\n      AFTER_TAG = afterTag;\n      CURRENT_SUBREDDIT = subredditName;\n      IS_LOADING = true;\n\n      if(_.isEmpty(subredditName)) {\n        deferred.reject();\n      } else {\n        $http\n          .get(apiUrl)\n          .success(onFetchSuccess.bind(this))\n          .error(onFetchFailure.bind(this));\n      }\n\n      function onFetchSuccess(data, status, headers, config) {\n        const fetchedData = data.data;\n\n        NUM_FETCH_RETRIES++;\n        AFTER_TAG = fetchedData.after;\n        IS_LOADING = false;\n\n        let newItems = uniquefyVideoItems(subredditResultsFilter(fetchedData.children));\n\n        if(newItems.length) {\n          // TODO: move out of reddit service, this is will not be reddit specific in the\n          // future when more sources will be available\n          LastSubredditsService.add({ name: subredditName });\n        }\n\n        if(newItems.length === 0 && NUM_FETCH_RETRIES <= NUM_MAX_FETCH_RETRIES) {\n          fetch.call(this, subredditName, AFTER_TAG, deferred);\n        } else {\n          let processNewItems = postProcess(newItems),\n              uniqueNewItems = _.filter(newItems, item => compareOldTo.call(this, item));\n\n          this.items = this.items.concat(uniqueNewItems);\n\n          NUM_FETCH_RETRIES = 0;\n\n          deferred.resolve(uniqueNewItems);\n        }\n      }\n\n      function onFetchFailure(data, status, headers, config) {\n        IS_LOADING = false;\n        deferred.reject(data);\n      }\n\n      return deferred.promise;\n    }\n\n    // TODO: refactor to filter?\n    function uniquefyVideoItems(videoItems) {\n      var stringifiedArray = _(videoItems).map(item => JSON.stringify(item)).value();\n      // console.log(_(_.uniq(stringifiedArray)).map(item => JSON.parse(item)).value().length);\n      return _(_.uniq(stringifiedArray)).map(item => JSON.parse(item)).value();\n    }\n\n    function subredditResultsFilter(data) {\n      // TODO: refactor to allow different sources but output same structure as now\n      // TODO: move this to separate factory which would accept all kinds of sources but output\n      // canonical object for the whole app to use\n      return _(data)\n                .filter((item) => item.kind === 't3' && item.data.domain === 'youtube.com') // t3 - link posts\n                .map((item) => {\n                  var videoInfo = youtubeUrlParser(item.data.url);\n\n                  // this is where playlist\n                  // item is built\n                  return {\n                    title: item.data.title,\n                    url: item.data.url,\n                    videoId: videoInfo.id,\n                    starttime: videoInfo.starttime,\n                    thumbnailUrl: $filter('thumbnailUrlFilter')(item.data.thumbnail),\n                    created: item.data.created,\n                    redditUrl: `http://reddit.com${item.data.permalink}`,\n                    redditScore: item.data.score,\n                    subreddit: item.data.subreddit,\n                    error: null\n                  };\n                })\n                .value();\n    }\n\n    // TODO: refactor to filter?\n    function postProcess(newItems) {\n      var sanitizers = {\n        '&amp;': '&',\n        '&copy;': '©',\n        '&reg;': '®'\n      };\n\n      return _(newItems)\n              .map(item => {\n                item.title = item.title.replace(/(&amp;|&copy;|&reg;)/g, match => sanitizers[match]),\n                item.ownId = _.uniqueId('orodarius_video-item_');\n                return item;\n              })\n              .value();\n    }\n\n    function compareOldTo(newItem) {\n      var duplicateItems = _(this.items).filter(item => item.videoId === newItem.videoId).value().length;\n\n      return duplicateItems > 0 ? false : true;\n    }\n\n    function getNext() {\n      let deferred = $q.defer();\n      if(!IS_LOADING) {\n        if(AFTER_TAG) {\n          this.fetch(CURRENT_SUBREDDIT, AFTER_TAG).then(\n            newItems => deferred.resolve(newItems),\n            () => deferred.reject()\n          );\n        } else {\n          $log.warn('cant expand playlist, no afterTag found!');\n          deferred.reject();\n        }\n      }\n\n      return deferred.promise;\n    }\n  }]);\n})();\n\n",";(function() {\n  'use strict';\n\n  var DEFAULT_SETTINGS = {\n    watchCount: 0,\n    isSidebarSticky: false,\n    isFocusForced: false,\n    sources: [{\n      name: 'reddit',\n      apiUrl: 'http://www.reddit.com/r/',\n      isEnabled: true\n    }]\n  };\n\n  angular.module('orodarius')\n    .service('SettingsService', ['localStorageService', function(localStorageService) {\n      var settingsStorageName = 'settings',\n          settings = localStorageService.get(settingsStorageName);\n\n      if(settings === null) {\n        settings = DEFAULT_SETTINGS;\n        updateStorage();\n      }\n\n      _.defaultsDeep(settings, DEFAULT_SETTINGS);\n      updateStorage()\n\n      function add(name, setting) {\n        settings[name] = setting;\n        updateStorage();\n      }\n\n      function toggle(name) {\n        if(typeof settings[name] !== 'undefined') {\n          settings[name] = !settings[name];\n          updateStorage();\n        } else {\n          settings[name] = true;\n        }\n      }\n\n      function set(name, value) {\n        settings[name] = value;\n        updateStorage();\n      }\n\n      function updateStorage() {\n        localStorageService.set(settingsStorageName, settings);\n      }\n\n      return { list: settings, add, toggle, set };\n    }]);\n\n})();\n",";(function() {\n  'use strict';\n\n  angular.module('orodarius')\n    .service('SidebarService', function() {\n      this.isOpen = true;\n\n      this.toggle = function(toggleValue) {\n        this.isOpen = toggleValue || !this.isOpen;\n      };\n\n      this.close = function() {\n        this.isOpen = false;\n      };\n    });\n})();\n",";(() => {\n  'use strict';\n\n  angular\n    .module('orodarius')\n    .component('settingsPanel', {\n      bindings: {},\n      templateUrl: 'views/sidebar/settings-panel.html',\n      controller: ['SettingsService', '$window', '$timeout', function(SettingsService, $window, $timeout) {\n        /* properties */\n        this.settings = SettingsService.list;\n\n        /* methods */\n        this.toggleStickySidebar = toggleStickySidebar;\n        this.toggleFlashMode = toggleFlashMode;\n        this.toggleFocusForced = toggleFocusForced;\n\n        if(SettingsService.list.isFocusForced) {\n          $window.addEventListener('blur', windowBlurHanlder);\n        }\n\n        function toggleStickySidebar() {\n          SettingsService.toggle('isSidebarSticky');\n        }\n\n        function toggleFlashMode() {\n          SettingsService.toggle('isFlashModeEnabled');\n        }\n\n        function toggleFocusForced() {\n          SettingsService.toggle('isFocusForced');\n          $window[(SettingsService.list.isFocusForced ? 'add' : 'remove') + 'EventListener']('blur', windowBlurHanlder);\n        }\n\n        // TODO: need better implementation for firefox. and maybe other browsers\n        function windowBlurHanlder() {\n          $timeout(() => $window.focus(), 100);\n        }\n\n      }]\n    })\n})();\n\n",";(() => {\n  'use strict';\n\n  angular\n    .module('orodarius')\n    .component('sidebarEmpty', {\n      bindings: {\n        onSubredditClick: '&'\n      },\n      templateUrl: 'views/sidebar/sidebar-empty.html',\n      controller: ['LastSubredditsService', function(LastSubredditsService) {\n        this.lastSubreddits = LastSubredditsService.getList();\n\n        this.suggestedSubreddits = [\n          { name: 'videos' },\n          { name: 'youtubehaiku' },\n          { name: 'artisanvideos' },\n          { name: 'listentothis' },\n          { name: 'gamephysics' },\n          { name: 'music' },\n          { name: 'videos+youtubehaiku' }\n        ];\n      }]\n    });\n})();\n\n",";(() => {\n  'use strict';\n\n  angular\n    .module('orodarius')\n    .component('sidebarFoot', {\n      bindings: {},\n      templateUrl: 'views/sidebar/sidebar-foot.html',\n      controller: ['$http', function($http) {\n        this.lastUpdatedData = {};\n\n        this.getLastUpdated = function() {\n          $http.get('https://api.github.com/repos/argshook/orodarius/commits/gh-pages')\n          .then(data => this.lastUpdatedData = {\n            url: data.data.html_url,\n            date: data.data.commit.author.date,\n            message: data.data.commit.message\n          });\n        };\n\n        this.getLastUpdated();\n      }]\n    });\n})();\n\n",";(() => {\n  'use strict';\n\n  angular\n    .module('orodarius')\n    .component('sidebarHead', {\n      bindings: {\n        isLoading: '=',\n        currentSubreddit: '=',\n        onSearchStart: '&',\n        onStateSet: '&'\n      },\n      templateUrl: 'views/sidebar/sidebar-head.html',\n      controller: ['SettingsService', 'SidebarService', '$window', '$timeout', function(SettingsService, SidebarService, $window, $timeout) {\n        /* properties */\n        this.isSettingsPanelVisible = false;\n        this.sidebarService = SidebarService;\n        this.settings = SettingsService.list;\n\n        /* methods */\n        this.toggleIsSettingsPanelVisible = toggleIsSettingsPanelVisible.call(this);\n\n        this.toggleSidebar = function() {\n          SidebarService.toggle();\n        };\n\n        function toggleIsSettingsPanelVisible() {\n          let currentState = 'main';\n\n          return () => {\n            currentState = currentState === 'main' ? 'settings' : 'main';\n            this.isSettingsPanelVisible = !this.isSettingsPanelVisible;\n            this.onStateSet({ state: currentState });\n          }\n        }\n      }]\n    });\n})();\n\n",";(function() {\n  'use strict';\n\n  angular\n    .module('orodarius')\n    .component('sidebarList', {\n      bindings: {\n        list: '=',\n        currentSubreddit: '=',\n        isLoading: '=',\n        onItemClick: '&',\n        onExpandClick: '&'\n      },\n      templateUrl: 'views/sidebar/sidebar-list.html',\n      controller: ['PlayerService', function(PlayerService) {\n        this.getCurrentVideoItem = function() {\n          return PlayerService.currentVideoItem;\n        };\n      }]\n    }\n  );\n})();\n\n",";(function() {\n  'use strict';\n\n  angular\n    .module('orodarius')\n    .component('sidebar', {\n      bindings: {},\n      templateUrl: 'views/sidebar/sidebar.html',\n      controller: ['PlaylistService', 'PlayerService', 'SidebarService', 'SettingsService', function(PlaylistService, PlayerService, SidebarService, SettingsService) {\n        /* properties */\n        this.currentSubreddit = '';\n        this.isLoading = false;\n        this.playlist = PlaylistService.playlist;\n        this.currentState = 'main';\n\n        /* methods */\n        this.getIsOpen = getIsOpen;\n        this.toggle = toggle;\n        this.playVideo = playVideo;\n        this.expandPlaylist = expandPlaylist;\n        this.fillPlaylistWith = fillPlaylistWith;\n        this.setCurrentState = setCurrentState;\n\n        PlaylistService.subscribePlaylist(() => {\n          this.playlist = PlaylistService.playlist;\n        });\n\n        function playVideo(item) {\n          PlayerService.playVideo(item);\n\n          if(!SettingsService.list.isSidebarSticky) {\n            SidebarService.toggle();\n          }\n        };\n\n        function expandPlaylist() {\n          this.isLoading = true;\n\n          PlaylistService\n          .expandPlaylist()\n          .then(() =>  this.isLoading = false);\n        };\n\n        function fillPlaylistWith(subreddit) {\n          PlaylistService.clear();\n\n          if(!!subreddit) {\n            this.currentSubreddit = subreddit;\n            this.isLoading = true;\n\n            PlaylistService\n              .fetchSubreddit(subreddit)\n              .then(playlist => {\n                this.isLoading = false;\n                this.playlist = playlist;\n\n                PlayerService.playVideo(PlaylistService.playlist[0]);\n              });\n          }\n        };\n\n        function getIsOpen() {\n          return SidebarService.isOpen;\n        }\n\n        function toggle() {\n          SidebarService.toggle();\n        }\n\n        function setCurrentState(state) {\n          this.currentState = state;\n        }\n      }]\n    }\n  );\n})();\n\n",";(() => {\n  'use strict';\n\n  angular\n    .module('orodarius')\n    .component('videoItem', {\n      bindings: {\n        item: '=videoItem',\n        currentSubreddit: '=currentSubreddit'\n      },\n      templateUrl: 'views/video-item.html',\n      controller: ['PlayerService', function(PlayerService) {\n        this.playerService = PlayerService;\n      }]\n    });\n})();\n\n"]}