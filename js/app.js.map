{"version":3,"sources":["app.js","baseCtrl.js","ng-bind-keys.js","ng-enter.js","ng-input-change.js","ng-scroll-on.js","youtube-player.js","youtube-url-parser.js","thumbnail-url-filter.js","player-overlay.directive.js","lastsubreddits-service.js","player-service.js","playlist-service.js","reddit-service.js","settings-service.js","sidebar-service.js","orodarius-sidebar.ctrl.js","orodarius-sidebar.directive.js","video-item.directive.js"],"names":[],"mappings":"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","file":"public/js/app.js","sourcesContent":[";(function() {\n  angular.module('orodarius', ['LocalStorageModule'])\n  .config(function(localStorageServiceProvider) {\n    localStorageServiceProvider.setPrefix('orodarius');\n  })\n  .run(function($window) {\n    $($window).on('resize', _.throttle(function() {\n      $('#main-video-player')\n        .attr('width', $window.innerWidth)\n        .attr('height', $window.innerHeight);\n    }, 400));\n  });\n})();\n",";(function() {\n  'use strict';\n\n  angular.module('orodarius')\n    .controller('baseCtrl', function($scope, PlayerService, SidebarService, PlaylistService) {\n      this.keyboardEventsOptions = {\n        38() { playPrevious(); }, // up\n        37() { playPrevious(); }, // left\n        39() { playNext(); }, // right\n        40() { playNext(); }, // down\n        32() { PlayerService.playOrPause(); }, // space\n        16: event => { // shift\n          SidebarService.toggle();\n          $scope.$apply();\n        },\n        27: event => { // escape\n          SidebarService.close();\n          $scope.$apply();\n        }\n      };\n\n      function playPrevious() {\n        if(PlaylistService.playlist.length) {\n          PlayerService.playPrevious();\n          $scope.$apply();\n        }\n      }\n\n      function playNext() {\n        if(PlaylistService.playlist.length) {\n          PlayerService.playNext();\n          $scope.$apply();\n        }\n      }\n    });\n})();\n",";(function() {\n  'use strict';\n\n  angular.module('orodarius')\n    .directive('ngBindKeys', function($document) {\n      return {\n        restrict: 'A',\n        scope: {\n          ngBindKeysOptions: '=ngBindKeys'\n        },\n        link: function(scope, element, attr) {\n          var keyCodes = _(scope.ngBindKeysOptions).map((fn, keyCode) => keyCode).value();\n\n          $document.on('keydown', function(event) {\n            if(event.target.nodeName !== 'INPUT') {\n              var currentKeyCode = event.which || event.keyCode;\n\n              if(scope.ngBindKeysOptions[currentKeyCode]) {\n                event.preventDefault();\n                scope.ngBindKeysOptions[currentKeyCode].call({}, event);\n              }\n            }\n          });\n        }\n      };\n    });\n\n})();\n",";(() => {\n  angular.module('orodarius')\n    .directive('ngEnter', () => {\n      return {\n        restrict: 'A',\n        replace: false,\n        scope: {\n          ngEnter: '&',\n          ngEnterOptions: '='\n        },\n        link: (scope, element, attr) => {\n          element.on('keypress', event => {\n            if(event.which === 13 || event.keyCode === 13) {\n              scope.ngEnter.call();\n\n              if(scope.ngEnterOptions.blurOnEnter) {\n                $(element).blur();\n              }\n\n              scope.$apply();\n            }\n          });\n        }\n      };\n    });\n})();\n\n",";(function() {\n  'use strict';\n\n  angular.module('orodarius')\n    .directive('ngInputChange', function() {\n      return {\n        restrict: 'A',\n        scope: {\n          ngInputChange: '&'\n        },\n        replace: false,\n        link: function(scope, element, attrs) {\n          $(element).on('change input', function() {\n            scope.ngInputChange.call(null);\n          });\n\n          scope.$on('$destroy', function() {\n            $(element).off('change input');\n          });\n        }\n      };\n    });\n\n})();\n",";(function() {\n  'use strict';\n\n  angular.module('orodarius')\n    .directive('ngScrollOn', function($timeout) {\n      return {\n        restrict: 'A',\n        scope: {\n          ngScrollOn: '='\n        },\n        link: function(scope, element, attr) {\n          // TODO: ngScrollOn should contain currentVideoItem\n          // not good, this directive should not care about what it gets,\n          // just catch change\n\n          scope.$watch('ngScrollOn', function(newVal, oldVal) {\n            $timeout(function() {\n              var $currentItem = $(element).find('.current').parent().prev().prev();\n\n              if($currentItem.length) {\n                // scrollIntoView is native, believe it or not\n                // https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView\n                $currentItem[0].scrollIntoView({\n                  block: 'start',\n                  behavior: 'smooth'\n                });\n              }\n            });\n          });\n        }\n      };\n    });\n})();\n",";(function() {\n  'use strict';\n\n  angular.module('orodarius')\n    .directive('youtubePlayer', function($window, PlayerService) {\n      return {\n        restrict: 'A',\n        replace: false,\n        link: function(scope, element, attrs) {\n          // scope.isDisabled comes from karma tests.\n          // TODO: nothing like that should be done, figure out how to\n          // prevent script src loading during karma tests\n          if(!scope.isDisabled) {\n            var tag = $('<script>').attr({\n              src: 'https://www.youtube.com/iframe_api',\n              async: true\n            });\n\n            // this is suggested here:\n            // https://developers.google.com/youtube/iframe_api_reference#Getting_Started\n            // not sure if it really needs to be first\n            $('script').eq(0).before(tag);\n          }\n\n          $window.onYouTubeIframeAPIReady = function() {\n            PlayerService.createNewPlayer(attrs.youtubePlayer || 'main-video-player');\n          };\n        }\n      };\n    });\n})();\n",";(() => {\n  'use strict';\n\n  angular.module('orodarius').factory('youtubeUrlParser', function() {\n    // inspiration or, basically, stealing from:\n    // https://github.com/honestbleeps/Reddit-Enhancement-Suite/blob/ebf015e5b78780f7c86e0c9ae5fde45af2c68fff/lib/modules/hosts/youtube.js#L11\n\n    var hashRe = /^(?:https?:)?(?:\\/\\/)?(?:www\\.|m\\.)?youtube\\.com\\/watch\\?.*v=([\\w\\-]+)/i,\n        altHashRe = /^https?:\\/\\/(?:www\\.)?youtu\\.be\\/([\\w\\-]+)/i;\n\n    function getVideoInfoFromUrl(url) {\n      var groups = hashRe.exec(url);\n\n      if(!groups) {\n        groups = altHashRe.exec(url);\n      }\n\n      if(groups) {\n        // Check url for timecode e.g t=1h23m15s\n        var timecodeRe = /t=(.*?)&|t=(.*?)$/i,\n            starttime = 0,\n            timecodeResult = timecodeRe.exec(url);\n\n        if(timecodeResult !== null) {\n          var time_blocks = {'h':3600, 'm':60, 's':1},\n              timeRE = /[0-9]+[h|m|s]/ig;\n\n          // Get each segment e.g. 8m and calculate its value in seconds\n          var timeMatch = timecodeResult[0].match(timeRE);\n\n          if(timeMatch) {\n            timeMatch.forEach(function(ts){\n              var unit = time_blocks[ts.charAt(ts.length-1)],\n                  amount = parseInt(ts.slice(0, - 1), 10);\n\n              // Add each unit to starttime\n              starttime += unit * amount;\n            });\n          } else {\n            // support direct timestamp e.g. t=200\n            starttime = parseInt(timecodeResult[0].replace('t=',''), 10);\n            if (isNaN(starttime)) {\n              starttime = 0;\n            }\n          }\n        }\n\n        return {\n          id: groups[1],\n          starttime: starttime\n        };\n      } else {\n        return '';\n      }\n    }\n\n    return getVideoInfoFromUrl;\n  });\n})();\n",";(() => {\n  'use strict';\n\n  angular.module('orodarius').filter('thumbnailUrlFilter', function() {\n    return function(thumbnailUrl) {\n      switch(thumbnailUrl) {\n        case 'nsfw':\n          return 'images/nsfw-thumbnail.jpg';\n        case 'default':\n          return 'images/default-thumbnail.png';\n      }\n\n      return thumbnailUrl;\n    };\n  });\n})();\n\n",";(() => {\n  'use strict';\n\n  angular\n    .module('orodarius')\n    .directive('playerOverlay', playerOverlayDirective);\n\n  function playerOverlayDirective() {\n    return {\n      restrict: 'E',\n      scope: false,\n      templateUrl: 'views/player-overlay.html',\n      controllerAs: 'vm',\n      controller: ['PlayerService', function(PlayerService) {\n        this.PlayerService = PlayerService;\n      }]\n    };\n  }\n})();\n\n",";(() => {\n  // TODO: this will eventually be lastQueriesService or something\n  angular.module('orodarius')\n    .service('LastSubredditsService', function(localStorageService) {\n      let lastSubredditsStorageName = 'lastSubreddits',\n          lastSubredditsLimit = 10;\n\n      let lastSubreddits = localStorageService.get(lastSubredditsStorageName);\n\n      if(!angular.isArray(lastSubreddits)) {\n        lastSubreddits = [];\n      }\n\n      function addItem(item) {\n        if(isItemDuplicate(item)) { return; }\n\n        lastSubreddits.unshift(item);\n        lastSubreddits = lastSubreddits.slice(0, lastSubredditsLimit);\n\n        updateLocalStorage();\n      }\n\n      function isItemDuplicate(item) {\n        return _.findIndex(lastSubreddits, obj => item.name === obj.name) !== -1;\n      }\n\n      function updateLocalStorage() {\n        localStorageService.set('lastSubreddits', lastSubreddits);\n      }\n\n      function getList() {\n        return lastSubreddits;\n      }\n\n      return {\n        getList,\n        add: addItem\n      };\n    });\n})();\n\n",";(function() {\n  'use strict';\n\n  angular.module('orodarius')\n    .service('PlayerService', function($window, $timeout, PlaylistService) {\n      this.youtubePlayer = null; // youtube iframe api instance\n      this.isPlaying = false;\n      this.currentVideoItem = {};\n\n      this.markCurrentVideoItemWithError = function(errorCode) {\n        var currentItemIndex = _.findIndex(PlaylistService.playlist, item => item.ownId === this.currentVideoItem.ownId);\n\n        PlaylistService.playlist[currentItemIndex].error = {\n          code: errorCode,\n          message: errorMessage(errorCode)\n        };\n      };\n\n      this.createNewPlayer = function(elementId, options) {\n        var defaultPlayerOptions = {\n          width: $window.innerWidth, // TODO: perhaps move to settings value\n          height: $window.innerHeight,\n          videoId: 'DT2oAtQtFrg',\n          playerVars: {\n            autohide: 1,\n            autoplay: 0,\n            controls: 1,\n            disablekb: 1,\n            enablejsapi: 1\n          }\n        };\n\n        angular.extend(defaultPlayerOptions, options);\n\n        // YT should be available since it comes from iframe_api\n        this.youtubePlayer = new YT.Player(elementId || 'main-video-player', defaultPlayerOptions);\n\n        this.youtubePlayer.addEventListener('onReady', onPlayerReady.bind(this));\n        this.youtubePlayer.addEventListener('onError', onPlayerError.bind(this));\n        this.youtubePlayer.addEventListener('onStateChange', onPlayerStateChange.bind(this));\n\n        return this.youtubePlayer;\n      };\n\n      this.playVideo = function(item) {\n        if(this.youtubePlayer && this.youtubePlayer.loadVideoById && item) {\n          // TODO: skip misunderstood urls for now\n          if(item.url === false) {\n            this.playNext();\n            return;\n          }\n\n          this.youtubePlayer.loadVideoById({\n            videoId: item.videoId,\n            startSeconds: item.starttime || 0,\n            suggestedQuality: 'default'\n          });\n\n          this.currentVideoItem = item;\n          this.isPlaying = true;\n        }\n\n        $timeout(); // TODO :(\n      };\n\n      this.playNext = function() {\n        var nextVideoItemIndex = _.findIndex(PlaylistService.playlist, currentItemMatcher.bind(this)) + 1;\n\n        if(nextVideoItemIndex === PlaylistService.playlist.length) {\n          PlaylistService.expandPlaylist().then(data => {\n            this.playVideo(PlaylistService.playlist[nextVideoItemIndex]);\n          });\n        } else {\n          this.playVideo(PlaylistService.playlist[nextVideoItemIndex]);\n        }\n      };\n\n      this.playPrevious = function() {\n        var previousVideoItemIndex = _.findIndex(PlaylistService.playlist, currentItemMatcher.bind(this)) - 1;\n        this.playVideo(PlaylistService.playlist[previousVideoItemIndex < 0 ? 0 : previousVideoItemIndex], 'previous');\n      };\n\n      this.playOrPause = function() {\n        if(this.isPlaying) {\n          this.youtubePlayer.pauseVideo();\n          this.isPlaying = false;\n        } else {\n          this.youtubePlayer.playVideo();\n          this.isPlaying = true;\n        }\n      };\n\n      this.resetCurrentVideoItem = function() {\n        this.currentVideoItem = undefined;\n      };\n\n      function onPlayerReady() {\n        // player.playVideo();\n      }\n\n      function onPlayerStateChange(event) {\n        // event.data holds event type, one of the following:\n        // -1 (unstarted)\n        // 0 (ended)\n        // 1 (playing)\n        // 2 (paused)\n        // 3 (buffering)\n        // 5 (video cued).\n\n        // if event is 0 (ended), play another video.\n        if (event.data === 0) {\n          this.playNext();\n        }\n      }\n\n      function onPlayerError(event) {\n        // https://developers.google.com/youtube/iframe_api_reference#onError\n        if([2, 5, 100, 101, 150].indexOf(event.data) != -1) {\n          this.markCurrentVideoItemWithError(event.data);\n          // TODO: stop trying after n tries\n          this.playNext();\n        }\n      }\n\n      function currentItemMatcher(item) {\n        return item.ownId === this.currentVideoItem.ownId;\n      }\n\n      function errorMessage(code) {\n        switch (code) {\n          case 2:\n            return \"can't parse video ID\";\n          case 5:\n            return \"problem with HTML5 Youtube player\";\n          case 100:\n            return \"video is private or removed\";\n          case 101:\n          case 150:\n            return \"uploader does not allow embedded playback\";\n        }\n      }\n\n    });\n})();\n",";(function() {\n  'use strict';\n\n  angular.module('orodarius')\n    .service('PlaylistService', function(RedditService) {\n      let playlistSubscriberFns = [];\n\n      // Public values\n      this.playlist = [];\n      this.isLoading = false;\n\n      // Public methods\n      this.add = add;\n      this.clear = clear;\n      this.fetchSubreddit = fetchSubreddit;\n      this.expandPlaylist = expandPlaylist;\n      this.subscribePlaylist = subscribePlaylist;\n\n      function add(item) {\n        this.playlist.push(item);\n        publishSubscribers();\n        return this.playlist;\n      }\n\n      function fetchSubreddit(subredditName = '') {\n        this.isLoading = true;\n\n        return RedditService\n          .fetch(subredditName)\n          .then(newItems => {\n            if(newItems) {\n              this.playlist = this.playlist.concat(newItems);\n              publishSubscribers();\n              return newItems;\n            }\n          }, angular.noop)\n          .finally(() => this.isLoading = false);\n      }\n\n      function expandPlaylist() {\n        this.isLoading = true;\n\n        return RedditService\n          .getNext()\n          .then(newItems => {\n            if(newItems) {\n              this.playlist = this.playlist.concat(newItems);\n              publishSubscribers();\n            }\n          }, angular.noop)\n          .finally(() => this.isLoading = false);\n      }\n\n      function clear() {\n        this.playlist = [];\n        publishSubscribers();\n      }\n\n      function subscribePlaylist(subscriberFn) {\n        playlistSubscriberFns.push(subscriberFn);\n      }\n\n      function publishSubscribers() {\n        playlistSubscriberFns.map(fn => fn());\n      }\n    });\n})();\n",";(() => {\n  'use strict';\n\n  angular.module('orodarius').service('RedditService', function($http, $q, youtubeUrlParser, $filter, LastSubredditsService, $log) {\n    let NUM_FETCH_RETRIES = 0,\n        NUM_MAX_FETCH_RETRIES = 3, // means there might be at most 4 consecutive GETs until proper data received\n        AFTER_TAG = '',\n        IS_LOADING = false,\n        CURRENT_SUBREDDIT = '';\n\n    this.fetch = fetch;\n    this.items = [];\n    this.getNext = getNext;\n\n    const API_ROOT_URL = 'http://www.reddit.com/r/';\n\n    function fetch(subredditName = '', afterTag = '') {\n      const deferred = $q.defer(),\n            apiUrl = `${API_ROOT_URL}${subredditName}/hot.json?limit=50` + (afterTag ? `&after=${afterTag}` : '');\n\n      AFTER_TAG = afterTag;\n      CURRENT_SUBREDDIT = subredditName;\n      IS_LOADING = true;\n\n      if(_.isEmpty(subredditName)) {\n        deferred.reject();\n      } else {\n        $http\n          .get(apiUrl)\n          .success(onFetchSuccess.bind(this))\n          .error(onFetchFailure.bind(this));\n      }\n\n      function onFetchSuccess(data, status, headers, config) {\n        const fetchedData = data.data;\n\n        NUM_FETCH_RETRIES++;\n        AFTER_TAG = fetchedData.after;\n        IS_LOADING = false;\n\n        let newItems = uniquefyVideoItems(subredditResultsFilter(fetchedData.children));\n\n        if(newItems.length) {\n          // TODO: move out of reddit service, this is will not be reddit specific in the\n          // future when more sources will be available\n          LastSubredditsService.add({ name: subredditName });\n        }\n\n        if(newItems.length === 0 && NUM_FETCH_RETRIES <= NUM_MAX_FETCH_RETRIES) {\n          fetch.call(this, subredditName, AFTER_TAG, deferred);\n        } else {\n          let processNewItems = postProcess(newItems),\n              uniqueNewItems = _.filter(newItems, item => compareOldTo.call(this, item));\n\n          this.items = this.items.concat(uniqueNewItems);\n\n          NUM_FETCH_RETRIES = 0;\n\n          deferred.resolve(uniqueNewItems);\n        }\n      }\n\n      function onFetchFailure(data, status, headers, config) {\n        IS_LOADING = false;\n        deferred.reject(data);\n      }\n\n      return deferred.promise;\n    }\n\n    // TODO: refactor to filter?\n    function uniquefyVideoItems(videoItems) {\n      var stringifiedArray = _(videoItems).map(item => JSON.stringify(item)).value();\n      // console.log(_(_.uniq(stringifiedArray)).map(item => JSON.parse(item)).value().length);\n      return _(_.uniq(stringifiedArray)).map(item => JSON.parse(item)).value();\n    }\n\n    function subredditResultsFilter(data) {\n      // TODO: refactor to allow different sources but output same structure as now\n      // TODO: move this to separate factory which would accept all kinds of sources but output\n      // canonical object for the whole app to use\n      return _(data)\n                .filter((item) => item.kind === 't3' && item.data.domain === 'youtube.com') // t3 - link posts\n                .map((item) => {\n                  var videoInfo = youtubeUrlParser(item.data.url);\n\n                  // this is where playlist\n                  // item is built\n                  return {\n                    title: item.data.title,\n                    url: item.data.url,\n                    videoId: videoInfo.id,\n                    starttime: videoInfo.starttime,\n                    thumbnailUrl: $filter('thumbnailUrlFilter')(item.data.thumbnail),\n                    created: item.data.created,\n                    redditUrl: `http://reddit.com${item.data.permalink}`,\n                    redditScore: item.data.score,\n                    subreddit: item.data.subreddit,\n                    error: null\n                  };\n                })\n                .value();\n    }\n\n    // TODO: refactor to filter?\n    function postProcess(newItems) {\n      var sanitizers = {\n        '&amp;': '&',\n        '&copy;': '©',\n        '&reg;': '®'\n      };\n\n      return _(newItems)\n              .map(item => {\n                item.title = item.title.replace(/(&amp;|&copy;|&reg;)/g, match => sanitizers[match]),\n                item.ownId = _.uniqueId('orodarius_video-item_');\n                return item;\n              })\n              .value();\n    }\n\n    function compareOldTo(newItem) {\n      var duplicateItems = _(this.items).filter(item => item.videoId === newItem.videoId).value().length;\n\n      return duplicateItems > 0 ? false : true;\n    }\n\n    function getNext() {\n      let deferred = $q.defer();\n      if(!IS_LOADING) {\n        if(AFTER_TAG) {\n          this.fetch(CURRENT_SUBREDDIT, AFTER_TAG).then(\n            newItems => deferred.resolve(newItems),\n            () => deferred.reject()\n          );\n        } else {\n          $log.warn('cant expand playlist, no afterTag found!');\n          deferred.reject();\n        }\n      }\n\n      return deferred.promise;\n    }\n  });\n})();\n\n",";(function() {\n  'use strict';\n\n  var DEFAULT_SETTINGS = {\n    isSidebarSticky: false,\n    isFocusForced: false,\n    sources: [{\n      name: 'reddit',\n      apiUrl: 'http://www.reddit.com/r/',\n      isEnabled: true\n    }]\n  };\n\n  angular.module('orodarius')\n    .service('SettingsService', function(localStorageService) {\n      var settingsStorageName = 'settings',\n          settings = localStorageService.get(settingsStorageName);\n\n      if(settings === null) {\n        settings = DEFAULT_SETTINGS;\n        updateStorage();\n      }\n\n      // users prior to settings.sources implementation will have\n      // no such property, thus adding it here to avoid breaking code\n      if(_.isUndefined(settings.sources)) {\n        settings.sources = DEFAULT_SETTINGS.sources;\n        updateStorage();\n      }\n\n      function add(name, setting) {\n        settings[name] = setting;\n        updateStorage();\n      }\n\n      function toggle(name) {\n        if(typeof settings[name] !== 'undefined') {\n          settings[name] = !settings[name];\n          updateStorage();\n        } else {\n          settings[name] = true;\n        }\n      }\n\n      function updateStorage() {\n        localStorageService.set(settingsStorageName, settings);\n      }\n\n      return { list: settings, add, toggle };\n    });\n\n})();\n",";(function() {\n  'use strict';\n\n  angular.module('orodarius')\n    .service('SidebarService', function() {\n      this.isOpen = true;\n\n      this.toggle = function(toggleValue) {\n        this.isOpen = toggleValue || !this.isOpen;\n      };\n\n      this.close = function() {\n        this.isOpen = false;\n      };\n    });\n})();\n",";(function() {\n  'use strict';\n\n  angular.module('orodarius')\n    .controller('sidebarCtrl', function(\n      $scope, $http, $timeout, $window,\n      PlaylistService, PlayerService, SidebarService, LastSubredditsService,\n      SettingsService\n    ) {\n      // TODO: shouldn't expose the whole service just the parts needed.\n      $scope.sidebarService = SidebarService;\n      $scope.playerService = PlayerService;\n\n      this.lastSubreddits = LastSubredditsService.getList();\n      this.currentSubreddit = '';\n      this.isLoading = false;\n      this.settings = SettingsService.list;\n      this.lastUpdatedData = {};\n      this.playlist = PlaylistService.playlist;\n\n      PlaylistService.subscribePlaylist(() => {\n        this.playlist = PlaylistService.playlist;\n      });\n\n      this.toggleSidebar = function() {\n        SidebarService.toggle();\n      };\n\n      this.toggleFocusForced = function() {\n        SettingsService.toggle('isFocusForced');\n        $window[(SettingsService.list.isFocusForced ? 'add' : 'remove') + 'EventListener']('blur', windowBlurHanlder);\n      };\n\n      this.toggleStickySidebar = function() {\n        SettingsService.toggle('isSidebarSticky');\n      };\n\n      this.playVideo = function(item) {\n        PlayerService.playVideo(item);\n\n        if(!SettingsService.list.isSidebarSticky) {\n          SidebarService.toggle();\n        }\n      };\n\n      this.fillPlaylistWith = function(subreddit) {\n        PlaylistService.clear();\n\n        if(!!subreddit) {\n          this.currentSubreddit = subreddit;\n          this.isLoading = true;\n\n          PlaylistService\n            .fetchSubreddit(subreddit)\n            .then(playlist => {\n              this.isLoading = false;\n              this.playlist = playlist;\n              PlayerService.playVideo(PlaylistService.playlist[0]);\n            });\n        }\n      };\n\n      this.expandPlaylist = function() {\n        this.isLoading = true;\n\n        PlaylistService\n          .expandPlaylist()\n          .finally(() => this.isLoading = false);\n      };\n\n      this.suggestedSubreddits = [\n        { name: 'videos' },\n        { name: 'youtubehaiku' },\n        { name: 'artisanvideos' },\n        { name: 'listentothis' },\n        { name: 'gamephysics' },\n        { name: 'music' },\n        { name: 'videos+youtubehaiku' }\n      ];\n\n      this.isListItemCurrentlyPlayed = item => item.videoId === PlayerService.currentVideoItem.videoId;\n\n      if(SettingsService.list.isFocusForced) {\n        $window.addEventListener('blur', windowBlurHanlder);\n      }\n\n      this.getLastUpdated = function() {\n        $http.get('https://api.github.com/repos/argshook/orodarius/commits/gh-pages')\n          .then(data => this.lastUpdatedData = {\n              url: data.data.html_url,\n              date: data.data.commit.author.date,\n              message: data.data.commit.message\n            });\n      };\n\n      this.getLastUpdated();\n\n      // TODO: need better implementation for firefox. and maybe other browsers\n      function windowBlurHanlder() {\n        $timeout(() => $window.focus(), 100);\n      }\n    });\n})();\n",";(function() {\n  'use strict';\n\n  angular.module('orodarius')\n    .directive('orodariusSidebar', function() {\n      return {\n        restrict: 'E',\n        replace: true,\n        templateUrl: 'views/orodarius-sidebar.html',\n        controller: 'sidebarCtrl',\n        controllerAs: 'sidebarCtrl',\n        bindToController: true\n      };\n    });\n})();\n",";(() => {\n  'use strict';\n\n  angular.module('orodarius')\n    .directive('videoItem', () => {\n      return {\n        restrict: 'E',\n        scope: true,\n        templateUrl: 'views/video-item.html'\n      };\n    });\n})();\n\n"]}